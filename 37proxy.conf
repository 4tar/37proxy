# 37proxy.conf
# Copyright 37pool.com. All rights reserved.
#
# Any question, please contact support@37pool.com for free.
#
# 37proxy另有免费增强版本，除以下参数说明中提到的开源版限制外，免费增强版本在性
# 能、稳定性、功能特性方面还有更多提高。
#
# 请联系support@37pool.com获取进一步信息。
#

################################################################################
# proxy settings 代理设置
#
# 1.host/port参数为代理本地监听地址，默认为0.0.0.0，即本机全部地址，及3737端口。
#   如果代理运行在外网可达节点上，建议修改host参数为局域网地址（即：本机有多个IP
#   地址，将host设置为其中属于矿机所在内网的地址）。
#   注：host/port参数可用逗号或空格分开多个配置，用于监听多个地址。总配置数目不
#       可超过32组。如host配置有两个地址，port配置有2个端口，则总配置数为2*2=4。
#       开源版不支持多个配置，用户可通过启动多个37proxy实例来达到同样目的。
# 2.outip/outport参数为代理所在机器矿机可见地址。当代理运行在负载均衡设备之后，
#   请将此地址设置为负责均衡设备地址。默认为空，此时自动使用矿机连接地址。
#   注：当host/port配置了多个代理地址时，请注意保持本配置项与其对应。
# 3.timeout参数为矿机超时秒数，指定时间内无提交则断开。范围0-600，默认为0，即不
#   主动断开。
#   注：开源版不支持此选项。
# 4.redundant参数配置是否打开矿池冗余策略。true为打开，默认不打开。打开冗余策略
#   将消耗额外少许带宽，理论上有助于矿池连接出错时的算力稳定。
#   注：开源版不支持此选项。
# 5.loglevel参数配置日志级别，分debug、info、warning、error四级，越往后输出信息
#   越精简。默认为info。
################################################################################

proxy.host = 0.0.0.0 #123.45.67.89
proxy.port = 3737 #3333
proxy.outip =
proxy.outport =
#proxy.timeout =
#proxy.redundant =
proxy.loglevel =


################################################################################
# pool default settings 矿池默认设置
#
# 矿池设置中留空的默认参数，将使用本区域设置；否则使用矿池自身的参数值。
# 注：开源版不支持默认参数。
#
# 1.timeout为矿池响应超时秒数，范围0-600，为0时不判定超时。默认为120。
# 2.diff参数用于向上游矿池发送难度建议值，必须为0或者2的幂次如1、2、4、8……，最大
#   为4194304（2^22）。默认为0，即代理不主动设置，由矿池负责调节难度。
#   注：1.仅部分矿池如37pool.com，支持客户自行设置合适的难度值，以获取可能更符合
#         客户期望的算力统计值。
# 3.bridge参数配置是否转发提交错误。true为转发，默认不转发。
#   注：转发上游矿池share提交错误将消耗更多内存，但对于某些矿机或有助于其尽早发
#       现错误以进行相应处理。
# 4.strict参数配置是否关闭矿池消息容错机制。true为关闭，即不容错，进行严格检查。
#   默认容错。设置为true后可尽快识别工作不正常的矿池，但可能存在一定的误报率。
# 5.autodiff参数配置代理本地难度调节的起始难度，参数要求同diff，须为2的幂次，但
#   不得超过8192（2^13）。默认为0，即不进行本地难度调节。
#   注：本地难度调节将消耗额外CPU，但或有助兼容部分难度调节功能不够完善的矿池。
# 6.localcheck是否进行本地share校验。true为打开，默认不打开。
#   注：与autodiff类似，本地share校验将消耗额外CPU，但或有助于兼容部分客户端管理
#       不够完善的上游矿池。
################################################################################

#def.timeout =
#def.diff =
#def.bridge = true
#def.strict =
#def.autodiff = 256
#def.localcheck =


################################################################################
# pool settings 矿池设置
#
# 1.开源版最多支持8组矿池。用户可通过级联多个37proxy来变相增加矿池数量。免费增强
#   版可支持多达64组矿池。
# 2.每组pool设置必须有enable参数且置于最前，默认为true，标识可用；否则为禁止。
#   注：开源版每组矿池最多支持4096台矿机。用户可通过设置多组相同的矿池来变相提高
#       该组矿池的连接上限。
# 3.矿池优先级由priority参数指定，数字越小优先级越高，默认为1。高优先级矿池可用
#   时，将自动切换全部低优先级矿池至高优先级矿池。
#   注：开源版只支持四档优先级，即范围0-3，免费增强版可支持八档优先级，即0-7。
# 4.weight参数用于设置矿池权重，范围1-100，相同优先级矿池间通过weight的比例进行
#   矿机分配。默认为10。
#   注：开源版不支持此选项。此时相同优先级矿池之间将平均分配矿机。用户可通过设置
#       多组相同的矿池来变相提高该矿池的权重。
# 5.host/port参数为矿池地址、端口号。可通过设置host为null建立黑洞矿池，吸收一切
#   提交，此时port为该黑洞矿池任务更新间隔秒数。
#   注：开源版不支持黑洞矿池设置。
# 6.miner/passwd参数为连接到矿池的矿工名、密码，请务必正确设置；如无密码可置空。
# 7.authtype参数用于控制矿池认证方式，范围0-3，即共有四种不同认证/授权方式。通过
#   此选项可实现灵活的代理级联，从而获得极强的扩展性和丰富的增值功能如算力切割、
#   交易等。
#   注：开源版不支持此选项。
# 8.timeout：请参看矿池默认设置中的参数说明。
# 9.diff/bridge/strict/autodiff/localcheck：请参看矿池默认设置中的参数说明。
#   注：开源版不支持此选项。
# a.cbaddr/cbtotal/cbperc为矿池对应收益地址和和该地址收益占比。收到矿池下发任务
#   时，37proxy可为用户检查其coinbase中区块收益发放地址是否包括cbaddr指定地址，
#   总收益是否不小于cbtotal指定数值，且cbaddr指定地址收益占比是否不低于cbperc指
#   定数值。三者默认值分别为空、2500000000，和1。
#   注：1.通过此选项可持续监控矿池是否正常使用用户算力，确保算力安全。
#       2.cbperc取值范围0-1之间。
#   例：1.37pool.com当前公有矿池收益地址为1FJnCqzui9vKDmY7iz948qccmDdaGaCgD6，区
#         块收益将完全进入此地址，故收益占比可设置为1。
#       2.使用37pool.com提供的私有虚拟矿池模式，即VPM，则可将收益地址cbaddr设置
#         为自己的收益地址，同时由于37pool.com对VPM用户收取1%的手续费，cbperc应
#         相应设置为0.99。
################################################################################

pool.enable =
pool.priority = 0
#pool.weight = 100
pool.host = stratum.37pool.com
pool.port = 3333
pool.miner = 37pool.37proxy
pool.passwd =
#pool.authtype =
pool.timeout =
#pool.diff =
#pool.bridge =
#pool.strict =
#pool.autodiff =
#pool.localcheck =
pool.cbaddr = 1FJnCqzui9vKDmY7iz948qccmDdaGaCgD6
pool.cbtotal = 2500000000
pool.cbperc = 1

pool.enable =
pool.priority = 1
#pool.weight = 10
pool.host = us1.ghash.io
pool.port = 3333
pool.miner = 37pool.37proxy
pool.passwd =
#pool.authtype =
pool.timeout =
#pool.diff =
#pool.bridge =
#pool.strict =
#pool.autodiff =
#pool.localcheck =
pool.cbaddr =
pool.cbtotal =
pool.cbperc =

pool.enable =
pool.priority = 1
#pool.weight = 10
pool.host = stratum.f2pool.com
pool.port = 25
pool.miner = 37pool.37proxy
pool.passwd =
#pool.authtype =
pool.timeout =
#pool.diff =
#pool.bridge =
#pool.strict =
#pool.autodiff =
#pool.localcheck =
pool.cbaddr =
pool.cbtotal =
pool.cbperc =
